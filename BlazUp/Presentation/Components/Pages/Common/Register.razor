@page "/register"

<!--MAIN LAYOUT-->
<MudGrid Justify="Justify.Center" Class="ma-10 py-5">
    <!--MAIN LAYOUT - FORM -->
    <MudItem xs="8" md="7">
        <MudPaper Elevation="10" Class="radial-gradient-bg">
            <MudStack AlignItems="AlignItems.Center" Spacing="5" Class="py-5">

                <!--MAIN LAYOUT - FORM - HEADER -->
                <MudText Typo="Typo.h3" Class="text-color-main">BlazUp Register</MudText>
                <MudText Typo="Typo.body1" Class="text-color-sec">Sign up quick and easy</MudText>

                <!--MAIN LAYOUT - FORM - INPUTS -->
                <MudPaper Elevation="15" Class="pa-10 form-bg" Outlined="true">
                    
                    <MudForm @ref="_form" Model="@_userForm">
                        <!--MAIN LAYOUT - FORM - INPUTS - ROLE -->
                        <MudSelect T="int" Label="Select your role" For="() => _userForm.RoleId"
                                   Variant="Variant.Outlined" FullWidth="true"
                                   AdornmentIcon="@Icons.Material.Filled.SupervisedUserCircle" AdornmentColor="Color.Primary">
                            @if (_roles is not null) {
                                @foreach (var role in _roles) {
                                        <MudSelectItem T="int" Value="@role.UserRoleId">@role.UserRoleDescription</MudSelectItem>
                                }
                            }
                        </MudSelect>

                        <!--MAIN LAYOUT - FORM - INPUTS - DNI -->
                        <MudTextField T="string" Label="DNI" For="() => _userForm.Dni" InputType="InputType.Text"
                                      Variant="Variant.Filled" MaxLength=13
                                      HelperText="Type your DNI" HelperTextOnFocus="true"
                                      Adornment=Adornment.End AdornmentIcon="@Icons.Material.Filled.Badge" AdornmentColor="Color.Primary" />
                        
                        <!--MAIN LAYOUT - FORM - INPUTS - USERNAME -->
                        <MudTextField T="string" Label="UserName" For="() => _userForm.UserName" InputType="InputType.Text"
                                      Variant="Variant.Filled" MaxLength=64
                                      HelperText="Type your UserName" HelperTextOnFocus="true"
                                      Adornment=Adornment.End AdornmentIcon="@Icons.Material.Outlined.Abc" AdornmentColor="Color.Primary" />

                        <!--MAIN LAYOUT - FORM - INPUTS - PASSWORD -->
                        <MudStack Row="true" Class="mt-10" AlignItems="AlignItems.Center" Justify="Justify.Center">
                            <MudTextField T="string" Label="Password" For="() => _userForm.Password"
                                          Variant="Variant.Filled" InputType="@_passwordIT"
                                          HelperText="Type your Password" HelperTextOnFocus="true" MaxLength=30
                                          Adornment=Adornment.End AdornmentIcon="@Icons.Material.Filled.Password" AdornmentColor="Color.Primary" />

                            <MudToggleIconButton @bind-Toggled="_showPassword" 
                                                 Icon="@Icons.Material.Outlined.VisibilityOff" ToggledIcon="@Icons.Material.Outlined.Visibility"/>
                        </MudStack>

                        <!--MAIN LAYOUT - FORM - INPUTS - BUTTONs -->
                        <MudButton @onclick="Submit" Color="Color.Tertiary" Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.Send" Class="mt-8">
                            Sign Up
                        </MudButton>
                    </MudForm>

                        <MudButton @onclick="NavigateToLogin" Color="Color.Secondary" Variant="Variant.Text" FullWidth="false" Size="Size.Small"
                                   DropShadow="true" Class="mt-2">
                            Back to login
                        </MudButton>

                </MudPaper>

            </MudStack>
        </MudPaper>
    </MudItem>

    <!--MAIN LAYOUT - ASIDE -->
    <MudItem xs="4" md="5" Class="px-5">
        <MudStack AlignItems="AlignItems.Center">
            <!--MAIN LAYOUT - ASIDE - TEXTINFO -->
            <MudText Typo="Typo.h5" Class="text-color-main">Create your account in a few seconds</MudText>
            <MudText Typo="Typo.body1" Class="text-color-sec" Align="Align.Center">
                You can register as an Admin, Client, or Developer. Each role has its own functionalities within the projects
            </MudText>
            <MudText Typo="Typo.body1" Class="text-color-sec">
                (Only one role by registered user (DNI) is allowed)
            </MudText>

            <!--MAIN LAYOUT - ASIDE - IMAGE -->
            <MudImage Src="images/blazUpSymbol.jpg" Fluid="true"/>
        </MudStack>
    </MudItem>
</MudGrid>
